; Generated by SQL*Forms Version 2.3.31 on Thu Aug  9 09:28:01 1990.
; Application owner is GILLESPIE.  Application name is seis_surfaces.
; (Application ID is 0)
; -------------------------------------------------
;;* DEC/CMS REPLACEMENT HISTORY, Element SEIS_SURFACES.INP
;;* *1    23-MAY-1990 12:47:40 VINCE "Initial Checkin"
;;* DEC/CMS REPLACEMENT HISTORY, Element SEIS_SURFACES.INP
;Application Title :
SEIS_SURFACES
;ORACLE workspace size :

;Block name / Description :
**PRE-FORM
;SQL>
#COPY 'F' GLOBAL.UPDATED
/
;Message if value not found :

;Must value exist Y/N :
Y
SELECT TO_NUMBER(USERENV('SESSIONID'))
INTO GENERAL.SESSION_ID
FROM DUAL

;Message if value not found :

;Must value exist Y/N :
Y
;Block name / Description :
**POST-FORM
;SQL>
#EXEMACRO EXETRG TEST_UPDATED;

;Message if value not found :

;Must value exist Y/N :
Y
;Block name / Description :
**DELETE_NL
;SQL>
#SEHORLD DELETE

;Message if value not found :

;Must value exist Y/N :
N
;Block name / Description :
**PREPARE_NL
;SQL>
#SEHORLD PURGE

;Message if value not found :

;Must value exist Y/N :
*N
;Block name / Description :
**PURGE_NL
;SQL>
#EXEMACRO MESSAGE 'Cleaning up - one moment, please...';SYNCHRONIZE;
/
;Message if value not found :

;Must value exist Y/N :
*N
#SEHORLD PURGE

;Message if value not found :

;Must value exist Y/N :
Y
;Block name / Description :
**SAVE_NL
;SQL>
#EXEMACRO MESSAGE 'Saving data to n-List - please wait'; SYNCHRONIZE;
/
;Message if value not found :

;Must value exist Y/N :
Y
;;This calls the user exit SEHORLD which reads the information
;;in the table SEIS_HOR_DATA and creates a new n-List.
;;This action will replace the n-List in the file and update the header record
#SEHORLD SAVE
/
;Message if value not found :

;Must value exist Y/N :
Y
#COPY 'N' GLOBAL.UPDATED

;Message if value not found :

;Must value exist Y/N :
Y
;Block name / Description :
**TEST_UPDATED
;SQL>
#EXEMACRO
CASE GLOBAL.UPDATED IS
    WHEN 'Y' THEN EXETRG SAVE_NL;
    WHEN 'F' THEN EXETRG PREPARE_NL;
    WHEN OTHERS THEN EXETRG PURGE_NL;
END CASE;

;Message if value not found :

;Must value exist Y/N :
Y
;Block name / Description :
SEIS_SURFACE/Seismic Surface Header Description
;Table name :
DEFAULT_PROJECT.SEIS_SURFACE
;Check for uniqueness before inserting Y/N :
N
;Display/Buffer how many records :
1 / 50
;Field name :
*PRE-BLOCK
;SQL>
#EXEMACRO EXETRG TEST_UPDATED;

;Message if value not found :

;Must value exist Y/N :
Y
;Field name :
*PRE-DELETE
;SQL>
SELECT NULL FROM USER_USERS WHERE USER=:SEIS_SURFACE.SOURCE
OR DBA_PRIV=1

;Message if value not found :
You cannot delete another user's surface information
;Must value exist Y/N :
Y
;Field name :
*POST-DELETE
;SQL>
#EXEMACRO EXETRG DELETE_NL;

;Message if value not found :

;Must value exist Y/N :
N
;Field name :
*KEY-NXTBLK
;SQL>
#EXEMACRO EXETRG LOAD_NL;

;Message if value not found :

;Must value exist Y/N :
Y
;Field name :
*KEY-PRVBLK
;SQL>
#EXEMACRO EXETRG LOAD_NL;

;Message if value not found :

;Must value exist Y/N :
Y
;Field name :
*LOAD_NL
;SQL>
#EXEMACRO
CASE SEIS_SURFACE.DIGITAL_REF_VOLUME IS
    WHEN '' THEN MESSAGE 'You must retrieve a horizon first';
    WHEN OTHERS THEN NXTBLK; EXETRG START_SEHORLD; EXEQRY;
END CASE;

;Message if value not found :

;Must value exist Y/N :
Y
;Field name :
LINE_ID
;Type of field :
NUMBER
;Length of field / Display length / Query length :
10 / 5 / 0
;Is this field in the base table Y/N :
Y
;Is this field part of the primary key Y/N :
N
;Default value :

;Page :
1
;Line :
4
;Column :
1
;Prompt :

;Allow field to be entered Y/N :
Y
;Allow field to be updated Y/N :
N
;SQL>
**POST-CHANGE
/
;SQL>
SELECT SURVEY||'^'||LINE_NAME INTO :seis_surface.line_name
FROM DEFAULT_PROJECT.SEIS_LINE_HDR
WHERE LINE_ID = :seis_surface.line_id

;Message if value not found :
No such line exists
;Must value exist Y/N :
Y
;Is field mandatory Y/N :
Y
;Is field fixed length Y/N :
N
;Auto jump to next field Y/N :
N
;Convert field to upper case Y/N :
Y
;Help message :
Name of the seismic line
;Lowest value :

;Highest value :

;Field name :
LINE_NAME
;Type of field :
CHAR
;Length of field / Display length / Query length :
30 / 15 / 0
;Is this field in the base table Y/N :
N
;Default value :

;Page :
1
;Line :
4
;Column :
7
;Prompt :

;Allow field to be entered Y/N :
N
;SQL>

;Field name :
SURFACE_CODE
;Type of field :
CHAR
;Length of field / Display length / Query length :
30 / 10 / 30
;Is this field in the base table Y/N :
**Y
;Is this field part of the primary key Y/N :
N
;Copy field value from :

;Default value :

;Page :
1
;Line :
4
;Column :
23
;Prompt :

;Allow field to be entered Y/N :
*N
;Allow entry of query condition Y/N :
Y
;SQL>

;Is field mandatory Y/N :
Y
;Is field fixed length Y/N :
N
;Auto jump to next field Y/N :
N
;Convert field to upper case Y/N :
Y
;Help message :
Surface or horizon (code) name
;Lowest value :

;Highest value :

;Field name :
SOURCE
;Type of field :
CHAR
;Length of field / Display length / Query length :
30 / 8 / 30
;Is this field in the base table Y/N :
**Y
;Is this field part of the primary key Y/N :
N
;Copy field value from :

;Default value :

;Page :
1
;Line :
4
;Column :
34
;Prompt :

;Allow field to be entered Y/N :
*N
;Allow entry of query condition Y/N :
Y
;SQL>

;Is field mandatory Y/N :
N
;Is field fixed length Y/N :
N
;Auto jump to next field Y/N :
N
;Convert field to upper case Y/N :
Y
;Help message :
Name of the interpreter or data source for this seismic surface
;Lowest value :

;Highest value :

;Field name :
VERSION
;Type of field :
INT
;Length of field / Display length / Query length :
44 / 2 / 44
;Is this field in the base table Y/N :
**Y
;Is this field part of the primary key Y/N :
N
;Copy field value from :

;Default value :

;Page :
1
;Line :
4
;Column :
43
;Prompt :

;Allow field to be entered Y/N :
*N
;Allow entry of query condition Y/N :
Y
;SQL>

;Is field mandatory Y/N :
Y
;Is field fixed length Y/N :
N
;Auto jump to next field Y/N :
N
;Convert field to upper case Y/N :
N
;Help message :
Version number of this interpretation
;Lowest value :

;Highest value :

;Field name :
SURFACE_TYPE
;Type of field :
INT
;Length of field / Display length / Query length :
44 / 4 / 44
;Is this field in the base table Y/N :
**Y
;Is this field part of the primary key Y/N :
N
;Copy field value from :

;Default value :

;Page :
1
;Line :
4
;Column :
46
;Prompt :

;Allow field to be entered Y/N :
*N
;Allow entry of query condition Y/N :
Y
;SQL>

;Is field mandatory Y/N :
Y
;Is field fixed length Y/N :
N
;Auto jump to next field Y/N :
N
;Convert field to upper case Y/N :
N
;Help message :
Kind of surface: 1 = Horizon; 2 = Fault
;Lowest value :

;Highest value :

;Field name :
DATA_TYPE
;Type of field :
INT
;Length of field / Display length / Query length :
44 / 4 / 44
;Is this field in the base table Y/N :
**Y
;Is this field part of the primary key Y/N :
N
;Copy field value from :

;Default value :

;Page :
1
;Line :
4
;Column :
51
;Prompt :

;Allow field to be entered Y/N :
*N
;Allow entry of query condition Y/N :
Y
;SQL>

;Is field mandatory Y/N :
Y
;Is field fixed length Y/N :
N
;Auto jump to next field Y/N :
N
;Convert field to upper case Y/N :
N
;Help message :
Data type of surface value: 1 = Time, 2 = Depth, 3 = Amplitude, 4 = Velocity
;Lowest value :

;Highest value :

;Field name :
DIGITAL_REF
;Type of field :
CHAR
;Length of field / Display length / Query length :
61 / 14 / 61
;Is this field in the base table Y/N :
**Y
;Is this field part of the primary key Y/N :
N
;Copy field value from :

;Default value :

;Page :
1
;Line :
4
;Column :
56
;Prompt :

;Allow field to be entered Y/N :
*N
;Allow entry of query condition Y/N :
Y
;SQL>

;Is field mandatory Y/N :
Y
;Is field fixed length Y/N :
N
;Auto jump to next field Y/N :
N
;Convert field to upper case Y/N :
Y
;Help message :
Name of n-List in external file
;Lowest value :

;Highest value :

;Field name :
DIGITAL_REF_VOLUME
;Type of field :
CHAR
;Length of field / Display length / Query length :
80 / 10 / 80
;Is this field in the base table Y/N :
**Y
;Is this field part of the primary key Y/N :
N
;Copy field value from :

;Default value :

;Page :
1
;Line :
4
;Column :
71
;Prompt :

;Allow field to be entered Y/N :
*N
;Allow entry of query condition Y/N :
Y
;SQL>

;Is field mandatory Y/N :
Y
;Is field fixed length Y/N :
N
;Auto jump to next field Y/N :
N
;Convert field to upper case Y/N :
N
;Help message :
Name of file containing surface information: Directory is ESI$SEIS_SURFACE
;Lowest value :

;Highest value :

;Field name :

;Block name / Description :
*SEIS_HOR_DATA/SEIS_HOR_DATA
;Enter default WHERE and ORDER BY clause :
*ORDER BY TABLE_NUM, ROW_NUM

;Table name :
SEIS_HOR_DATA
;Check for uniqueness before inserting Y/N :
N
;Display/Buffer how many records :
15 / 50
;Base crt line ?
7
;How many physical lines per record ?
1
;Field name :
*PRE-QUERY
;SQL>
#COPY GENERAL.SESSION_ID SEIS_HOR_DATA.SESSION_ID

;Message if value not found :

;Must value exist Y/N :
Y
;Field name :
*POST-INSERT
;SQL>
#COPY 'Y' GLOBAL.UPDATED

;Message if value not found :

;Must value exist Y/N :
Y
;Field name :
*POST-UPDATE
;SQL>
#COPY 'Y' GLOBAL.UPDATED

;Message if value not found :

;Must value exist Y/N :
Y
;Field name :
*POST-DELETE
;SQL>
#COPY 'Y' GLOBAL.UPDATED

;Message if value not found :

;Must value exist Y/N :
Y
;Field name :
*KEY-NXTBLK
;SQL>
#EXEMACRO CLRBLK; GOBLK SEIS_SURFACE;

;Message if value not found :

;Must value exist Y/N :
Y
;Field name :
*KEY-PRVBLK
;SQL>
#EXEMACRO CLRBLK; PRVBLK;

;Message if value not found :

;Must value exist Y/N :
Y
;Field name :
*START_SEHORLD
;SQL>
#EXEMACRO MESSAGE 'Fetching information from n-List - one moment, please';
/
;Message if value not found :

;Must value exist Y/N :
N
#EXEMACRO SYNCHRONIZE;
/
;Message if value not found :

;Must value exist Y/N :
Y
#SEHORLD LOAD
/
;Message if value not found :

;Must value exist Y/N :
Y
#COPY 'N' GLOBAL.UPDATED

;Message if value not found :

;Must value exist Y/N :
Y
;Field name :
TABLE_NUM
;Type of field :
NUMBER
;Length of field / Display length / Query length :
44 / 10 / 44
;Is this field in the base table Y/N :
Y
;Is this field part of the primary key Y/N :
N
;Default value :

;Page :
1
;Line :
1
;Column :
15
;Prompt :

;Allow field to be entered Y/N :
Y
;Allow field to be updated Y/N :
Y
;SQL>

;Is field mandatory Y/N :
Y
;Is field fixed length Y/N :
N
;Auto jump to next field Y/N :
N
;Convert field to upper case Y/N :
N
;Help message :
n-List sequential table number (starts at 1)
;Lowest value :
1
;Highest value :

;Field name :
ROW_NUM
;Type of field :
NUMBER
;Length of field / Display length / Query length :
44 / 10 / 44
;Is this field in the base table Y/N :
Y
;Is this field part of the primary key Y/N :
N
;Default value :

;Page :
1
;Line :
1
;Column :
28
;Prompt :

;Allow field to be entered Y/N :
Y
;Allow field to be updated Y/N :
Y
;SQL>

;Is field mandatory Y/N :
Y
;Is field fixed length Y/N :
N
;Auto jump to next field Y/N :
N
;Convert field to upper case Y/N :
N
;Help message :
Enter value for : ROW_NUM
;Lowest value :
1
;Highest value :

;Field name :
SHOT
;Type of field :
NUMBER
;Length of field / Display length / Query length :
44 / 10 / 44
;Is this field in the base table Y/N :
Y
;Is this field part of the primary key Y/N :
N
;Default value :

;Page :
1
;Line :
1
;Column :
41
;Prompt :

;Allow field to be entered Y/N :
Y
;Allow field to be updated Y/N :
Y
;SQL>

;Is field mandatory Y/N :
Y
;Is field fixed length Y/N :
N
;Auto jump to next field Y/N :
N
;Convert field to upper case Y/N :
N
;Help message :
Enter value for : SHOT
;Lowest value :

;Highest value :

;Field name :
TIME
;Type of field :
NUMBER
;Length of field / Display length / Query length :
44 / 10 / 44
;Is this field in the base table Y/N :
Y
;Is this field part of the primary key Y/N :
N
;Default value :

;Page :
1
;Line :
1
;Column :
54
;Prompt :

;Allow field to be entered Y/N :
Y
;Allow field to be updated Y/N :
Y
;SQL>

;Is field mandatory Y/N :
Y
;Is field fixed length Y/N :
N
;Auto jump to next field Y/N :
N
;Convert field to upper case Y/N :
N
;Help message :
Enter value for : TIME
;Lowest value :

;Highest value :

;Field name :
FLAG
;Type of field :
CHAR
;Length of field / Display length / Query length :
3 / 3 / 3
;Is this field in the base table Y/N :
Y
;Is this field part of the primary key Y/N :
N
;Default value :

;Page :
1
;Line :
1
;Column :
67
;Prompt :

;Allow field to be entered Y/N :
Y
;Allow field to be updated Y/N :
Y
;SQL>

;Is field mandatory Y/N :
N
;Is field fixed length Y/N :
N
;Auto jump to next field Y/N :
N
;Convert field to upper case Y/N :
N
;Help message :
Enter value for : FLAG
;Lowest value :

;Highest value :

;Field name :
SESSION_ID
;Type of field :
INT
;Length of field / Display length / Query length :
10 / 1 / 0
;Is this field in the base table Y/N :
Y
;Is this field part of the primary key Y/N :
Y
;Field to copy primary key from :
GENERAL.SESSION_ID
;Page :

;SQL>

;Field name :

;Block name / Description :
GENERAL/GENERAL
;Table name :
GENERAL
;Check for uniqueness before inserting Y/N :
N
;Display/Buffer how many records :
1
;Field name :
SESSION_ID
;Type of field :
INT
;Length of field / Display length / Query length :
10 / 1 / 0
;Is this field in the base table Y/N :
N
;Default value :

;Page :

;SQL>

;Field name :

;Block name / Description :

                          Seismic Surface Data      
Line    Survey Name    Surface               Surf Data     n-List       n-List
 ID      Line Name       Name     Source  VerType Type       ID          File
%LINE
6
                 Table        Row         Shot         Time      Flag
%LINE
5
%LINE
5
%BOX
           p----------------------------------------------------------q
           |                                                          |
           |                                                          |
           |                                                          |
           |                                                          |
           |                                                          |
           |                                                          |
           |                                                          |
           |                                                          |
           |                                                          |
           |                                                          |
           |                                                          |
           |                                                          |
           |                                                          |
           |                                                          |
           |                                                          |
           |                                                          |
           b----------------------------------------------------------d
%TEXT
%END
/* DEC/CMS REPLACEMENT HISTORY, Element SEIS_SURFACES.INP*/
/*  5    18-NOV-1991 17:53:54 LOEBL "(SPR 0) Convert to SQL*FORMS V3.0 Format"*/
/* *4    26-JUL-1991 15:40:53 ALLAWAY "(SPR 8756) remove finder version number from boiler plate"*/
/* *3    24-SEP-1990 17:16:58 GILLESPIE "Merge: Beta Deltas"*/
/*  1B1  24-SEP-1990 17:16:22 GILLESPIE "Beta Deltas"*/
/* *2    23-AUG-1990 15:42:22 GILLESPIE "(SPR 5872) Enhance form - more user feedback; allow horizons to be deleted"*/
/* *1    23-MAY-1990 12:47:40 VINCE "Initial Checkin"*/
/* DEC/CMS REPLACEMENT HISTORY, Element SEIS_SURFACES.INP*/
